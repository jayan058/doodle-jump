(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))w(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const x of l.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&w(x)}).observe(document,{childList:!0,subtree:!0});function e(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function w(i){if(i.ep)return;i.ep=!0;const l=e(i);fetch(i.href,l)}})();let L=document.getElementById("startButton");L&&L.addEventListener("click",()=>{L&&(L.style.display="none",X())});let g,d=360,u=576,a,j=52,A=52,T=d/2-j/2,F=u*7/8-A,m,S,k,v,r={img:null,x:T,y:F,width:j,height:A},P=0,n=0,c=-10,M=.2,f=[],O=60,E=18,h,p,y=0,s=0,b=!1;window.onload=()=>{g=document.getElementById("board"),g.height=u,g.width=d,a=g.getContext("2d"),m=new Image,m.src="./assets/doodler-right.png",m.onload=()=>{r.img=m},m.onerror=I,S=new Image,S.src="./assets/doodler-left.png",S.onerror=I,h=new Image,h.src="./assets/platform.png",h.onload=()=>{},h.onerror=I,p=new Image,p.src="./assets/platform-broken.png",p.onload=()=>{},p.onerror=I,k=new Image,k.src="./assets/jet-pack.png",k.onload=()=>{},k.onerror=I,v=new Image,v.src="./assets/doodler-flying.webp",v.onload=()=>{},v.onerror=I};function I(){console.error("Failed to load image.")}function X(){m.complete&&h.complete&&p.complete&&(n=c,N(),requestAnimationFrame(Y),document.addEventListener("keydown",q))}function Y(){if(requestAnimationFrame(Y),b)return;a.clearRect(0,0,g.width,g.height),r.x+=P,r.x>d?r.x=0:r.x+r.width<0&&(r.x=d),n+=M,r.y+=n,r.y>g.height&&(b=!0),a.drawImage(r.img,r.x,r.y,r.width,r.height);const t=2;for(let o=0;o<f.length;o++){let e=f[o];e.jetpack?a.drawImage(k,e.x,e.y-30,e.width,e.height+10):a.drawImage(e.img,e.x,e.y,e.width,e.height),e.moveable&&(e.x+=t,e.x>d?e.x=-e.width:e.x+e.width<0&&(e.x=d)),n<0&&r.y<u*3/4&&(e.y-=c),K(r,e)&&(e.jetpack?(n=-10,r.img=v):e.broken&&r.y+r.height<=e.y+n?b=!0:!e.broken&&n>=0&&(n=c)),a.drawImage(e.img,e.x,e.y,e.width,e.height)}for(;f.length>0&&f[0].y>=u;)f.shift(),H();R(),a.fillStyle="black",a.font="16px sans-serif",a.fillText(y.toString(),5,20),b&&a.fillText("Opps!! Press Space to restart",d/4,u*7/8)}function q(t){t.code==="ArrowRight"||t.code==="KeyD"?(P=4,r.img=m):t.code==="ArrowLeft"||t.code==="KeyA"?(P=-4,r.img=S):t.code==="Space"&&b&&(r={img:m,x:T,y:F,width:j,height:A},P=0,n=c,y=0,s=0,b=!1,N())}function N(){f=[];let t={img:h,x:d/2,y:u-50,width:O,height:E,broken:!1,moveable:!1,jetpack:!1};f.push(t);let o=75;for(let e=0;e<6;e++){let w=Math.floor(Math.random()*d*3/4),i=Math.random()<.02,l=Math.random()<.1,x=Math.random()<.1;e===0&&(i=!1,l=!1,x=!1),t={img:i?p:h,x:w,y:u-o*e-150,width:O,height:E,broken:i,moveable:l,jetpack:x},f.push(t),y>1e3&&(o=100),y>2e3&&(o=125),y>3e3&&(o=150)}}function H(){let t=Math.floor(Math.random()*d*3/4),o=Math.random()<.2,e=Math.random()<.2,w=Math.random()<.25,i={img:o?p:h,x:t,y:-E,width:O,height:E,broken:o,moveable:e,jetpack:w};f.push(i)}function K(t,o){return o.broken?!1:t.x<o.x+o.width&&t.x+t.width>o.x&&t.y<o.y+o.height&&t.y+t.height>o.y}function R(){let t=Math.floor(50*Math.random());n<0?(s+=t,y<s&&(y=s)):n>=0&&(s-=t),s>1e3?(M=.25,c=-6.5):s>2e3?(M=.3,c=-7):s>3e3?(M=.35,c=-7.5):s>4e3&&(M=.4,c=-8)}const W=.2;let B=0;window.addEventListener("deviceorientation",C);function C(t){t.beta,B=t.gamma||0,P=B*W}
